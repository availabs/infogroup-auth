<!DOCTYPE html>
<html>

<head>
	<title>INFO USA NYC BUSINESS POINTS</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" type="text/css" href="/stylesheet/main.css" />
	<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
	    crossorigin="" />

	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
	    crossorigin=""></script>
</head>

<body>
	<div class="topnav">
		<a class="active" href="/">Home</a>
		<a class="navlogin" href="#test">Login</a>
	</div>
	<div class="body-container">
		<div id="mapid" class="map-style"></div>


		<div class='infoContainer'>
			<div>
			<div class="Input">
				<!-- <label for="input" class="Input-label">Zipcode</label> -->
				<input type="text" id="zipInput" class="Input-text" placeholder="Search by Zipcode eg. 12203">
				<button class='go-button'>GO</button>
				<!-- <input type="text" id="zipInput" class="none" placeholder="Search by Zipcode eg. 12203"> -->
			</div>

			<div class="Object-desc"></div>

			<div class="list-table">
				<table id="table_id" class="display compact"></table>
			</div>
		</div>
	</div>
</body>

<script src="js/jquery-3.3.1.min.js"></script>
<script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://d3js.org/d3.v5.js"></script>
<script src="meta/naicsKeys.js"></script>
<script src="js/MapEstablishments.js"></script>
<script src="js/dataTableLoad.js"></script>
<script>
	var mymap = L.map('mapid').setView([40.755, -74.00], 13);
	var markers = [];
	var table;

	L.tileLayer(
		'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
			id: 'mapbox.streets'
		}).addTo(mymap);

	// -- 
	// Set Load Button To Map Data
	// --
	let loadButton = d3.select('.go-button')
	loadButton.on('click', (e) => {
		let value = d3.select('#zipInput').property("value")
		if (value.length !== 5 || isNaN(+value)) {

		}
		loadEstablishments(value)
	})

	// --
	// on Load, load zipcode 10001
	// --
	loadEstablishments(10001)
</script>

</html>