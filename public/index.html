
<!DOCTYPE html>
<html>
<head>	
	<title>Info Usa Business Points</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet"  type="text/css" href="main.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
    	
</head>
<body style="width: 100%; height: 100vh;margin:0px;padding:0px;">

<div id="mapid" style="width: 100%; height: 100%;"></div>


<div class='infoContainer'>
  <div class="Input">
  	Zipcode:<br/>
    <input type="text" id="zipInput" class="Input-text" placeholder="zipcode eg. 12203">
    <button class='go-button'>GO</button>
    <label for="input" class="Input-label">Zipcode</label>
  </div>
  <div class="Object-desc">

  </div>
</div>

</body>
<script src="js/jquery-3.3.1.min.js" ></script>
<script src="https://d3js.org/d3.v5.js"></script>
<script src="meta/naicsKeys.js" ></script>
<script src="js/MapEstablishments.js" ></script>
<script>

	var mymap = L.map('mapid').setView([40.755, -74.00], 13);
	var markers = []

	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.streets'
	}).addTo(mymap);

// -- 
// Set Load Button To Map Data
// --
let loadButton = d3.select('.go-button')
loadButton.on('click',(e) => {
	let value = d3.select('#zipInput').property("value")
	if(value.length !== 5 || isNaN(+value)){
		
	}
 	loadEstablishments(value)
})

// --
// on Load, load zipcode 10001
// --
loadEstablishments(10001)
</script>
</html>
